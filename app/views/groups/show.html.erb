<%= tag.div class: 'text-center', id: 'group_show', data: { groupId: @group.id } do %>
  <%= tag.h3 flash[:message], class: 'mt-3' %>
  <%= tag.ul class: "nav nav-pills justify-content-center mt-3 mb-2" do %>
    <% if current_user.is_admin?(@group) %>
      <%= link_to 'Edit Group', edit_group_path(@group), class: 'nav-item nav-link btn btn-outline-primary mr-2' %><br />
      <%= link_to 'Delete Group', group_path(@group), method: 'delete', class: 'nav-item nav-link btn btn-outline-danger', data: { confirm: 'Are you sure?' }%><br />
    <% end %>
  <% end %>
  <%= display_banner(@group) %><br />
  <%= tag.div class: 'container' do %>
    <%= tag.h1 @group.name, class: 'mt-3 mb-n2' %><br />
    <%= tag.hr class: 'mt-n1' %>
    <%= tag.p @group.description, class: 'mt-1 mb-n3' %><br />
    <%= tag.hr %>
  <% end %>
<% end %>

<%= tag.ul class: "nav nav-pills justify-content-center ml-5 mr-n5" do %>
  <%= link_to 'Post an Announcement', new_group_announcement_path(@group), class: 'nav-item nav-link ml-5 btn btn-outline-primary mr-2' %>
  <%= link_to 'Send an Invitation', new_group_invitation_path(@group), class: 'nav-item nav-link ml-5 btn btn-outline-primary mr-2' %>
  <%= tag.div class: "col-2 ml-5" do %>
    <%= render partial: 'new_task_dropdown', locals: { group: @group, task: @task, members: @members, dropdown_name: 'Create Task', button_name: 'Create' } %>
  <% end %>
  <%= link_to 'All Completed Tasks', group_completed_tasks_path(@group), class: 'nav-item nav-link ml-5 btn btn-outline-primary mr-2' %>
<% end %>


<%= tag.div class: 'container-fluid' do %>
  <%= tag.div class: 'row text-center mt-4' do %>
    <%= tag.div class:'col-md-2' do %>
      <%= tag.div class: 'text-right' do %>

        <%= tag.h6 'Admins:' %>
        <%= tag.div id: 'admins' %>

        <%= tag.h6 'Members:', class: 'mt-4' %>
        <%= tag.div id: 'members' %>

        <% if !@invitations.empty? %>
          <%= tag.h6 'Invitations:', class: 'mt-4' %>
          <% @invitations.each do |invitation| %>
            <%= tag.li class: 'mt-2' do %>
              <%= invitation.recipient.name %> <%= display_avatar(invitation.recipient, 'xs') %><br />
              <%= tag.small class: 'text-muted' do %>
                Sent by: <%= invitation.sender.name %><br />
                <% if current_user.is_admin?(@group) || current_user == invitation.sender %>
                  <%= link_to 'Cancel Invitation', group_invitation_path(invitation.group, invitation), method: 'delete' %>
                <% end %>
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>


  <%= tag.div class:'col-lg-3 text-left', id: 'announcements' %>



  <%= render partial: 'task_column', locals: {  group: @group, tasks: @available_tasks, members: @members, dropdown_name: 'Edit', button_name: 'Update', title: 'Available', div_class: 'col-lg-2' } %>
  <%= render partial: 'task_column', locals: {  group: @group, tasks: @assigned_tasks, members: @members, dropdown_name: 'Edit', button_name: 'Update', title: 'Assigned', div_class: 'col-lg-2' } %>
  <%= render partial: 'task_column', locals: {  group: @group, tasks: @completed_tasks, members: @members, dropdown_name: 'Edit', button_name: 'Update', title: 'Completed', div_class: 'col-lg-2' } %>

  <% end %>
<% end %>
